<!DOCTYPE html>
<html lang="pt-BR" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VIVO ESSENTIAL - Meu Perfil</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../css/style.css" />
    <link rel="stylesheet" href="../../css/home_newuser_refactored.css" />
    <link rel="stylesheet" href="../../css/perfil_newuser_refactored.css" />
  </head>
  <body
    class="bg-gray-100 text-gray-900 dark:bg-slate-900 dark:text-slate-200 selection:bg-purple-400 dark:selection:bg-purple-500 selection:text-white transition-colors duration-300"
  >
    <div class="flex h-screen overflow-hidden">
      <aside
        class="w-64 bg-white dark:bg-slate-800 p-6 flex flex-col justify-between shadow-xl flex-shrink-0 transition-colors duration-300"
      >
        <div>
          <div class="mb-10 text-center">
            <img
              src="../../imagens/logo-vivo.svg"
              alt="Logo VIVO"
              class="w-28 h-auto mx-auto mb-1"
            />
            <span class="text-2xl font-bold text-purple-700 dark:text-purple-400">ESSENTIAL</span>
          </div>
          <nav>
            <ul>
              <li class="mb-3">
                <a
                  href="home_newuser.html"
                  id="homeLink"
                  class="sidebar-link flex items-center py-3 px-4 rounded-lg text-gray-700 dark:text-slate-100 transition-colors duration-200"
                >
                  <span class="mr-3">üè†</span> Home
                </a>
              </li>
              <li class="mb-3">
                <a
                  href="#"
                  id="cursosLink"
                  class="sidebar-link flex items-center py-3 px-4 rounded-lg text-gray-700 dark:text-slate-100 transition-colors duration-200"
                >
                  <span class="mr-3">üìö</span> Meus Cursos
                </a>
              </li>
              <li class="mb-3">
                <a
                  href="#"
                  id="desenvolvimentoLink"
                  class="sidebar-link flex items-center py-3 px-4 rounded-lg text-gray-700 dark:text-slate-100 transition-colors duration-200"
                >
                  <span class="mr-3">üìä</span> Desenvolvimento
                </a>
              </li>
              <li class="mb-3">
                <a
                  href="perfil_newuser.html"
                  id="perfilLink"
                  class="sidebar-link flex items-center py-3 px-4 rounded-lg text-gray-700 dark:text-slate-100 transition-colors duration-200 active"
                >
                  <span class="mr-3">üë§</span> Meu Perfil
                </a>
              </li>
              <li class="mb-3">
                <a
                  href="#"
                  id="configuracoesLink"
                  class="sidebar-link flex items-center py-3 px-4 rounded-lg text-gray-700 dark:text-slate-100 transition-colors duration-200"
                >
                  <span class="mr-3">‚öôÔ∏è</span> Configura√ß√µes
                </a>
              </li>
            </ul>
          </nav>
        </div>
        <div class="text-center text-xs text-gray-500 dark:text-slate-500">
          &copy; <span id="currentYearSidebar"></span> VIVO ESSENTIAL
        </div>
      </aside>

      <div class="flex-1 flex flex-col overflow-hidden">
        <header
          class="bg-white dark:bg-slate-800 shadow-md p-4 flex justify-between items-center flex-shrink-0 transition-colors duration-300"
        >
          <h2 class="text-xl font-semibold text-gray-800 dark:text-slate-200">Meu Perfil</h2>
          <div class="flex items-center space-x-4">
            <button
              id="themeToggleButton"
              title="Alternar tema"
              class="p-2 rounded-full text-gray-600 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500"
            >
              <span id="themeIcon" class="text-xl"></span>
            </button>
            <button
              id="logoutButtonHeader"
              class="bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-lg text-sm"
            >
              Sair
            </button>
          </div>
        </header>

        <main
          class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-200 dark:bg-gradient-to-br dark:from-slate-900 dark:via-purple-900 dark:to-indigo-950 p-6 md:p-8"
        >
          <div class="max-w-5xl mx-auto">
            <div
              class="flex flex-col sm:flex-row items-center bg-white dark:bg-slate-800 dark:bg-opacity-60 dark:backdrop-blur-sm rounded-xl shadow-xl p-6 md:p-8 mb-8"
            >
              <img
                id="userAvatar"
                src="../../imagens/perfil2.jpg"
                alt="Avatar"
                class="w-32 h-32 rounded-full border-4 border-purple-500 object-cover mb-4 sm:mb-0 sm:mr-8"
              />
              <div class="flex-grow text-center sm:text-left">
                <h1
                  id="userName"
                  class="text-3xl font-bold text-gray-800 dark:text-purple-300 mb-1"
                >
                  Carregando...
                </h1>
                <p id="userEmail" class="text-gray-600 dark:text-slate-400">...</p>
                <p id="userMemberSince" class="text-sm text-gray-500 dark:text-slate-500 mt-1">
                  ...
                </p>
                <p id="userTelefone" class="text-sm text-gray-600 dark:text-slate-400 mt-2">...</p>
                <p id="userDescricao" class="text-sm text-gray-600 dark:text-slate-400 mt-1">...</p>
              </div>
              <button
                class="sm:ml-auto mt-4 sm:mt-0 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg"
              >
                Editar Perfil
              </button>
            </div>

            <section class="mb-8">
              <h2 class="text-2xl font-semibold text-gray-800 dark:text-purple-400 mb-4">
                Vis√£o Geral
              </h2>
              <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6">
                <div class="stat-card">
                  <div
                    id="userVivoCoins"
                    class="text-4xl font-bold text-green-500 dark:text-purple-400"
                  >
                    ...
                  </div>
                  <p class="text-gray-600 dark:text-slate-300 mt-1">üí∞ Vivo Coins</p>
                </div>
                <div class="stat-card">
                  <div
                    id="userStreak"
                    class="text-4xl font-bold text-yellow-500 dark:text-purple-400"
                  >
                    ...
                  </div>
                  <p class="text-gray-600 dark:text-slate-300 mt-1">üî• Ofensiva</p>
                </div>
                <div class="stat-card">
                  <div class="text-4xl font-bold text-blue-500 dark:text-purple-400">2</div>
                  <p class="text-gray-600 dark:text-slate-300 mt-1">Trilhas em Andamento</p>
                </div>
                <div class="stat-card">
                  <div class="text-4xl font-bold text-indigo-500 dark:text-purple-400">0</div>
                  <p class="text-gray-600 dark:text-slate-300 mt-1">Trilhas Conclu√≠das</p>
                </div>
              </div>
            </section>

            <section class="mb-8">
              <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-semibold text-gray-800 dark:text-purple-400">
                  Medalhas e Conquistas
                </h2>
                <a
                  href="#"
                  class="text-sm font-medium text-purple-600 hover:text-purple-500 dark:text-purple-400 dark:hover:text-purple-300"
                  >Ver Todas &rarr;</a
                >
              </div>
              <div class="flex flex-wrap justify-center sm:justify-start -m-2">
                <div class="achievement-badge flex flex-col items-center justify-center p-2">
                  <span class="text-3xl">üèÖ</span>
                  <span
                    class="text-xs mt-1 font-semibold text-center text-gray-700 dark:text-slate-200"
                    >Pioneiro</span
                  >
                </div>
                <div class="achievement-badge flex flex-col items-center justify-center p-2">
                  <span class="text-3xl">üåü</span>
                  <span
                    class="text-xs mt-1 font-semibold text-center text-gray-700 dark:text-slate-200"
                    >Maratonista</span
                  >
                </div>
              </div>
            </section>

            <section>
              <h2 class="text-2xl font-semibold text-gray-800 dark:text-purple-400 mb-4">
                Minhas Trilhas
              </h2>
              <div class="mb-4 border-b border-gray-200 dark:border-slate-700">
                <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                  <a
                    href="#"
                    class="border-purple-500 text-purple-600 dark:text-purple-400 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"
                    aria-current="page"
                  >
                    Em Andamento
                  </a>
                  <a
                    href="#"
                    class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-300 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"
                  >
                    Conclu√≠das
                  </a>
                </nav>
              </div>
              <div class="space-y-4">
                <div class="course-card">
                  <h3 class="font-semibold text-lg text-gray-800 dark:text-slate-100 mb-1">
                    Onboarding Inicial
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-slate-400 mb-2">
                    Conhe√ßa os valores, a hist√≥ria e a estrutura da VIVO.
                  </p>
                  <div class="w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2.5">
                    <div
                      class="bg-purple-600 dark:bg-purple-500 h-2.5 rounded-full"
                      style="width: 45%"
                    ></div>
                  </div>
                  <p class="text-xs text-gray-500 dark:text-slate-500 mt-1">45% conclu√≠do</p>
                </div>
                <div class="course-card">
                  <h3 class="font-semibold text-lg text-gray-800 dark:text-slate-100 mb-1">
                    Trilha T√©cnica
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-slate-400 mb-2">
                    Ferramentas e processos para seu dia a dia.
                  </p>
                  <div class="w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2.5">
                    <div
                      class="bg-purple-600 dark:bg-purple-500 h-2.5 rounded-full"
                      style="width: 10%"
                    ></div>
                  </div>
                  <p class="text-xs text-gray-500 dark:text-slate-500 mt-1">10% conclu√≠do</p>
                </div>
              </div>
            </section>
          </div>
        </main>
      </div>
    </div>

    <button
      class="fixed bottom-6 right-6 bg-purple-600 hover:bg-purple-700 text-white p-4 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900 focus:ring-offset-gray-100"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-8 w-8"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.755 4 3.92C16 12.897 14.703 14 12.75 14c-.897 0-1.7-.398-2.25-.996A2.032 2.032 0 018.228 9z"
        />
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 18a6 6 0 100-12 6 6 0 000 12z"
        />
      </svg>
    </button>

    <script src="../../js/theme-swither.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const userNameElement = document.getElementById('userName');
        const userEmailElement = document.getElementById('userEmail');
        const userMemberSinceElement = document.getElementById('userMemberSince');
        const userTelefoneElement = document.getElementById('userTelefone');
        const userDescricaoElement = document.getElementById('userDescricao');
        const userVivoCoinsElement = document.getElementById('userVivoCoins');
        const userStreakElement = document.getElementById('userStreak');
        const logoutButtonHeader = document.getElementById('logoutButtonHeader');
        const currentYearSidebarElement = document.getElementById('currentYearSidebar');

        if (currentYearSidebarElement) {
          currentYearSidebarElement.textContent = new Date().getFullYear();
        }

        const mockUserProfileData = {
          nomeCompleto: 'Novo Colaborador',
          email: 'novo.colaborador@vivo.com.br',
          dataCadastro: new Date('2025-08-15T10:00:00Z').toISOString(),
          diasOfensiva: 5,
          vivoCoins: 500,
          telefone: '(11) 99999-8888',
          descricao: 'Entusiasta de novas tecnologias e pronto para somar no time!',
        };

        function updateUI(userProfile) {
          const dataCadastroFormatada = new Date(userProfile.dataCadastro).toLocaleDateString(
            'pt-BR'
          );
          userName.textContent = userProfile.nomeCompleto;
          userEmail.textContent = userProfile.email;
          userMemberSince.textContent = `Membro desde: ${dataCadastroFormatada}`;
          userTelefone.textContent = `Telefone: ${userProfile.telefone || 'N√£o informado'}`;
          userDescricao.textContent = `Descri√ß√£o: ${userProfile.descricao || 'Nenhuma descri√ß√£o.'}`;
          userVivoCoins.textContent = userProfile.vivoCoins;
          userStreak.innerHTML = `${userProfile.diasOfensiva} <span class="text-xl">dias</span>`;
        }

        updateUI(mockUserProfileData);

        if (logoutButtonHeader) {
          logoutButtonHeader.addEventListener('click', function () {
            localStorage.removeItem('accessToken');
            localStorage.removeItem('userData');
            alert('Voc√™ saiu da plataforma.');
            window.location.href = 'login.html';
          });
        }
      });
    </script>
  </body>
</html>
